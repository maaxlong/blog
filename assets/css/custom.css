:root {
  /* === Red-accented color palette === */
  --accent: #8b0000;          /* main accent: deep red / crimson */
  --accent-hover: #a20d0d;    /* slightly brighter hover */
  --accent-bg: #fceaea;       /* pale background for highlights */
  --text: #333333;            /* main text color */
  --text-muted: #666666;      /* secondary text */
  --bg: #ffffff;              /* page background */
  --bg-alt: #faf9f9;          /* alt background (sidebar, footer) */
  --border: #e1dada;          /* subtle neutral border */
}


/* ==== Layout: two-column pages with a right sidebar ==== */

/* Expand theme's narrow wrapper so two columns fit */
main {
  max-width: none !important;
  width: 100% !important;
}

/* Grid container used on home + post pages */
.content-with-sidebar {
  display: grid !important;
  grid-template-columns: minmax(0, 1fr) 300px !important;
  gap: 2rem;
  align-items: start;
  max-width: 1200px;       /* keep page from going full-bleed */
  margin: 0 auto;
  padding-inline: 1rem;
}

@media (max-width: 768px) {
  .content-with-sidebar {
    grid-template-columns: 1fr !important;
  }
}

/* Ensure correct column placement */
.content-with-sidebar > .sidebar { grid-column: 2; }
.content-with-sidebar > .main-content,
.content-with-sidebar > .main-article { min-width: 0; }

/* ==== Sidebar visuals ==== */
.sidebar {
  background: var(--bg-alt, #f5f5f5);
  padding: 1.5rem;
  border-radius: 8px;
  position: sticky;
  top: 1rem;
  max-height: calc(100vh - 2rem);
  overflow-y: auto;
}

.sidebar section { margin-bottom: 2rem; }
.sidebar section:last-child { margin-bottom: 0; }

.sidebar h3 {
  margin: 0 0 1rem;
  font-size: 1.1em;
  border-bottom: 2px solid var(--border, #ddd);
  padding-bottom: 0.5rem;
}

.sidebar ul { list-style: none; padding: 0; margin: 0; }
.sidebar li {
  margin-bottom: 1rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--border, #eee);
}
.sidebar li:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
.sidebar li a { font-weight: 500; line-height: 1.4; }
.sidebar small { color: var(--text-muted, #666); font-size: 0.85em; }

.sidebar .tag-list {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}
.sidebar .tag-list a {
  display: inline-block;
  background: var(--accent-bg, #e8f5e9);
  padding: 0.25rem 0.75rem;
  border-radius: 4px;
  text-decoration: none;
  font-size: 0.9em;
}
.sidebar .tag-list a:hover { background: var(--accent, #c8e6c9); }

/* ==== Post lists / summaries ==== */
.post-summary {
  margin-bottom: 3rem;
  padding-bottom: 2rem;
  border-bottom: 1px solid var(--border, #ddd);
}
.post-summary:last-child { border-bottom: none; }
.post-summary h2 { margin: 0 0 0.5rem; }
.post-meta { color: var(--text-muted, #666); font-size: 0.9em; margin-bottom: 1rem; }

/* ==== Link post callout ==== */
.link-post {
  background: var(--accent-bg, #fffbdd);
  border-left: 4px solid var(--accent, #ffd700);
  padding: 1rem;
  margin: 1.5rem 0;
  border-radius: 4px;
}
.link-post a { word-break: break-all; font-weight: 600; }

/* ==== Post footer tags ==== */
.post-footer {
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 2px solid var(--border, #ddd);
}
.post-footer .tags a {
  display: inline-block;
  background: var(--accent-bg, #e8f5e9);
  padding: 0.25rem 0.75rem;
  border-radius: 4px;
  margin-right: 0.5rem;
  margin-top: 0.5rem;
  text-decoration: none;
  font-size: 0.9em;
}
.post-footer .tags a:hover { background: var(--accent, #c8e6c9); }

/* ==== Dark mode tweaks ==== */
@media (prefers-color-scheme: dark) {
  .sidebar { background: var(--bg-alt, #2d2d2d); }
}

/* --- Fix: sidebar text stacking vertically / too-narrow column --- */

/* Give the sidebar a real column width */
.content-with-sidebar {
  grid-template-columns: minmax(0, 1fr) 340px !important; /* was 300px */
}

/* Ensure the sidebar uses normal horizontal text flow and full width of its grid track */
.sidebar {
  display: block;
  box-sizing: border-box;
  width: 100%;
  max-width: 100%;
  min-width: 0;
  overflow: visible; /* allow headings to render normally */
}

/* Neutralize any theme rules that rotate or verticalize text */
.sidebar, .sidebar * {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  white-space: normal !important;
  transform: none !important;
  rotate: 0deg !important;
}

/* === Override hugo-simple's fixed column width === */

/* Let the entire <main> element stretch full width */
main {
  max-width: none !important;
  width: 100% !important;
  margin: 0 auto !important;
  padding: 0 2rem !important; /* optional: small side padding */
}

/* Re-define our grid */
.content-with-sidebar {
  display: grid !important;
  grid-template-columns: minmax(0, 1fr) 320px !important;
  gap: 2rem;
  align-items: start;
  max-width: 4000px; /* constrain for readability */
  margin: 0 auto;
}

/* Sidebar column */
.content-with-sidebar > .sidebar {
  grid-column: 2;
  min-width: 280px;
}

.content-with-sidebar > .main-content,
.content-with-sidebar > .main-article {
  min-width: 0;
}

/* === Break out of the theme's max-width clamp and center a wide grid === */
.content-with-sidebar{
  /* ignore parent max-widths */
  max-width: none !important;
  width: 100vw !important;
  margin-left: calc(50% - 50vw) !important;
  margin-right: calc(50% - 50vw) !important;

  /* set your desired content width and center it inside the bleed */
  /* change 1200px if you want wider/narrower */
  padding-inline: calc((100vw - 1200px) / 2) !important;
  box-sizing: border-box;
}

/* keep mobile single column */
@media (max-width: 768px){
  .content-with-sidebar{
    padding-inline: 1rem !important;
  }
}

main {
  padding-top: 2.5rem !important;
}


/* === Force smaller top padding inside sidebar === */

/* Higher-specificity selector to beat theme cascade */
.content-with-sidebar > aside.sidebar,
main .sidebar {
  padding-top: 0rem !important;     /* adjust to taste */
  padding-bottom: 1.5rem !important;  /* keep lower padding normal */
  padding-left: 1.5rem !important;
  padding-right: 1.5rem !important;
}

/* Reduce or remove the sticky offset at the top of the sidebar */
.sidebar {
  top: 0.1 !important;          /* no gap */
}

/* === Adjust post title size === */

/* Home & list pages */
.post-summary h2 {
  font-size: 1.4rem !important;  /* was likely around 1.75rem */
  line-height: 1.3;
}

/* Single post pages */
.main-article h1,
.single h1,
article h1 {
  font-size: 1.8rem !important;  /* smaller than the default */
  line-height: 1.3;
}

/* === Centered site title with nav below === */

header {
  text-align: center;
  margin-bottom: 2.5rem;
  padding-top: 1rem !important;
}

header .site-title {
  font-size: 3rem;
  font-weight: 700;
  margin-bottom: 1.5rem;
}

header .site-title a {
  text-decoration: none;
  color: var(--accent);
}

header .main-nav {
  margin-top: 0.5rem;
}


/* Hover color for the title */
header .site-title a:hover {
  color: #8b0000 !important;       /* use your red accent, or replace with e.g. #8b0000 */
  text-decoration: none;
}

header .main-nav a {
  display: inline-block;
  margin: 0 0.5rem;
  padding: 0.3rem 0.8rem;
  border: 1px solid var(--border);
  border-radius: 6px;
  text-decoration: none;
  font-weight: 500;
  color: var(--text);
  background: var(--bg);
}

header .main-nav a:hover {
  background: var(--accent);
  color: #fff;
}

header .site-title a {
  color: #000 !important;
  text-decoration: none;
}

/* Optional: still use accent red on hover */
header .site-title a:hover {
  color: var(--accent);
}

/* === Rounded "pill" style buttons for header nav === */

header .main-nav a {
  display: inline-block;
  margin: 0 0.4rem;
  padding: 0.35rem 1.1rem;
  border: 1px solid var(--border);
  border-radius: 9999px;         /* <-- makes it pill-shaped */
  text-decoration: none;
  font-weight: 500;
  color: var(--text);
  background: var(--bg);
  transition: all 0.2s ease-in-out;
}

header .main-nav a:hover,
header .main-nav a:focus {
  background: var(--accent);
  color: #fff;
  border-color: var(--accent);
  text-decoration: none;
}

/* Optional: slightly smaller buttons on mobile */
@media (max-width: 600px) {
  header .main-nav a {
    padding: 0.3rem 0.9rem;
    font-size: 0.9rem;
  }
}

/* === Circular avatar below blog title === */

.site-avatar {
  margin: 1rem auto 1.5rem;      /* top, sides, bottom */
  display: flex;
  justify-content: center;
}

.site-avatar img {
  width: 170px;                  /* adjust to desired size */
  height: 170px;
  border-radius: 50%;            /* makes it circular */
  object-fit: cover;             /* crops nicely */
  border: 3px solid var(--border);
  box-shadow: 0 0 6px rgba(0, 0, 0, 0.15);
  transition: transform 0.25s ease-in-out;
}

/* Optional hover zoom effect */
.site-avatar img:hover {
  transform: scale(1.05);
  border-color: var(--accent);
}

/* --- Post tags under homepage summaries --- */
.post-tags {
  margin: 0.25rem 0 1rem;
  font-size: 0.9em;
}

.post-tags .tag-link {
  background: var(--accent-bg, #e8f5e9);
  color: var(--accent-text, #333);
  padding: 0.25rem 0.6rem;
  border-radius: 4px;
  text-decoration: none;
  margin-right: 0.4rem;
}

.post-tags .tag-link:hover {
  background: var(--accent, #c8e6c9);
  color: #000;
}

.read-more {
  display: inline-block;
  margin-top: 0.5rem;
}

/* Inline tag list at the end of each home post */
.post-tags-inline {
  margin: 0.75rem 0 0;
  font-size: 0.95rem;
}

.post-tags-inline a {
  text-decoration: underline;
  text-underline-offset: 2px;
  color: var(--accent, #8b0000);
}

.post-tags-inline a:hover {
  color: var(--accent-hover, #a20d0d);
}

.post-tags-inline { margin: 0.5rem 0 0; font-size: 0.95rem; }
.post-tags-inline .tag-link-inline {
  text-decoration: underline;
  text-underline-offset: 2px;
  color: var(--accent, #8b0000);
}
.post-tags-inline .tag-link-inline:hover { color: var(--accent-hover, #a20d0d); }

/* --- Fix excessive space above/below blockquotes in posts --- */
.home-post-content blockquote,
.main-content blockquote {
  margin-top: 0.5rem;   /* reduce space above */
  margin-bottom: 0.5rem; /* reduce space below */
  padding-left: 1rem;
  border-left: 4px solid var(--accent, #8b0000);
  color: #333;
}

.home-post-content blockquote p:last-child,
.main-content blockquote p:last-child {
  margin-bottom: 0; /* remove extra gap at end of quote */
}


/* Nuke top margins on paragraphs inside our articles */
.content-with-sidebar .main-content article.post-summary .home-post-content p,
.main-article .content p,
.main-content .content p {
  margin-top: 0 !important;
  margin-bottom: 1rem !important;  /* keep comfortable space after */
  line-height: 1.6;
}

/* Also remove the first child’s top margin, whatever it is (p, blockquote, list, etc.) */
.content-with-sidebar .main-content article.post-summary .home-post-content > *:first-child,
.main-article .content > *:first-child,
.main-content .content > *:first-child {
  margin-top: 0 !important;
}

/* Keep blockquotes tight as well */
.content-with-sidebar .main-content article.post-summary .home-post-content blockquote,
.main-article .content blockquote,
.main-content .content blockquote {
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
  padding-left: 1rem;
  border-left: 4px solid var(--accent, #8b0000);
}

/* Optional: uniform rhythm – every direct child gets only bottom margin */
.content-with-sidebar .main-content article.post-summary .home-post-content > *:not(:last-child),
.main-article .content > *:not(:last-child),
.main-content .content > *:not(:last-child) {
  margin-bottom: 1rem !important;
}

/* tighten spacing between posts */
.post-summary {
  margin-bottom: 1.5rem;   /* was 3rem */
  padding-bottom: 1rem;    /* was 2–3rem */
}

/* don't add extra space after the last element inside a post */
.home-post-content > *:last-child {
  margin-bottom: 0 !important;
}

@media (max-width: 768px) {
  /* Hide sidebar */
  .sidebar,
  aside,
  .site-sidebar {
    display: none !important;
  }

  /* Full-width single column, but avoid scrollbar overflow */
  .content-with-sidebar {
    display: block !important;
    width: 100% !important;       /* avoids overflow from 100vw */
    max-width: 100% !important;
    margin: 0 auto !important;    /* centers if needed */
    padding: 0 1rem !important;   /* equal left/right gutter */
    box-sizing: border-box;
  }

  .content-with-sidebar > .main-content,
  .content-with-sidebar > .main-article {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 auto !important;
    padding: 0 !important;
  }

  main {
    padding: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  body {
    margin: 0 !important;
    padding: 0 !important;
  }

  article,
  .post-summary,
  .home-post-content {
    width: 100% !important;
    max-width: 100% !important;
    padding: 1rem !important;   /* consistent inner text padding */
    box-sizing: border-box !important;
  }
}
